var In=Object.defineProperty;var kn=(e,t,o)=>t in e?In(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var _e=(e,t,o)=>kn(e,typeof t!="symbol"?t+"":t,o);import{r as n,p as je,u as be,a as On,b as oe,c as Je,E as ge,d as Qe,e as et,i as me,g as Nn,f as J,t as Se,h as jt,k as Vt,l as Ft,m as ae,n as Ne,o as At,j as i,q as ie,s as tt,v as Ve,w as Hn,x as Fe,y as Ce,z as ye,A as We,B as Lt,C as Dt,D as jn,F as Te,G as Vn,H as ze,I as Fn,J as Ge,K as Zt,L as An,M as Ln,N as Dn,R as Zn,O as _n,P as Bn,Q as Kn,T as bt,U as Un,V as ht}from"./index-uGB-4DOH.js";import{i as He,F as _t,P as nt,c as L,u as Pe,a as ve,b as Bt,d as xt,e as se,g as Ae,f as $n,m as Yn,h as we,j as Wn,k as zn,T as Gn,l as ot,n as Be,o as Xn,p as qn,q as Jn,r as Kt,s as Ut,t as $t,v as rt,R as Yt,w as Le,C as ke,x as Wt,y as zt,z as Gt,I as Xt,A as qt,B as Jt,D as Qn,E as eo,G as to,H as no,J as oo,K as ro,L as so,M as Qt,N as en,O as ao,Q as io,S as lo,U as co,V as uo,W as Xe,X as fo,Y as yt,Z as vt,_ as po,$ as mo,a0 as go,a1 as bo,a2 as ho,a3 as xo,a4 as yo,a5 as vo}from"./getPseudoElementBounds-CVdyT6qz.js";const Eo=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,40V168H168V88H88V40Z",opacity:"0.2"}),n.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"}))]]),Ro=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z",opacity:"0.2"}),n.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"}))]]),Mo=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M230.14,70.54,185.46,25.85a20,20,0,0,0-28.29,0L33.86,149.17A19.85,19.85,0,0,0,28,163.31V208a20,20,0,0,0,20,20H92.69a19.86,19.86,0,0,0,14.14-5.86L230.14,98.82a20,20,0,0,0,0-28.28ZM93,180l71-71,11,11-71,71ZM76,163,65,152l71-71,11,11ZM52,173l15.51,15.51h0L83,204H52ZM192,103,153,64l18.34-18.34,39,39Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M221.66,90.34,192,120,136,64l29.66-29.66a8,8,0,0,1,11.31,0L221.66,79A8,8,0,0,1,221.66,90.34Z",opacity:"0.2"}),n.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM51.31,160,136,75.31,152.69,92,68,176.68ZM48,179.31,76.69,208H48Zm48,25.38L79.31,188,164,103.31,180.69,120Zm96-96L147.31,64l24-24L216,84.68Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM51.31,160l90.35-90.35,16.68,16.69L68,176.68ZM48,179.31,76.69,208H48Zm48,25.38L79.31,188l90.35-90.35h0l16.68,16.69Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M225.9,74.78,181.21,30.09a14,14,0,0,0-19.8,0L38.1,153.41a13.94,13.94,0,0,0-4.1,9.9V208a14,14,0,0,0,14,14H92.69a13.94,13.94,0,0,0,9.9-4.1L225.9,94.58a14,14,0,0,0,0-19.8ZM48.49,160,136,72.48,155.51,92,68,179.51ZM46,208V174.48L81.51,210H48A2,2,0,0,1,46,208Zm50-.49L76.49,188,164,100.48,183.51,120ZM217.41,86.1,192,111.51,144.49,64,169.9,38.58a2,2,0,0,1,2.83,0l44.68,44.69a2,2,0,0,1,0,2.83Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM51.31,160,136,75.31,152.69,92,68,176.68ZM48,179.31,76.69,208H48Zm48,25.38L79.31,188,164,103.31,180.69,120Zm96-96L147.31,64l24-24L216,84.68Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M224.49,76.2,179.8,31.51a12,12,0,0,0-17,0L39.52,154.83A11.9,11.9,0,0,0,36,163.31V208a12,12,0,0,0,12,12H92.69a12,12,0,0,0,8.48-3.51L224.48,93.17a12,12,0,0,0,0-17ZM45.66,160,136,69.65,158.34,92,68,182.34ZM44,208V169.66l21.17,21.17h0L86.34,212H48A4,4,0,0,1,44,208Zm52,2.34L73.66,188,164,97.65,186.34,120ZM218.83,87.51,192,114.34,141.66,64l26.82-26.83a4,4,0,0,1,5.66,0l44.69,44.68a4,4,0,0,1,0,5.66Z"}))]]),Co=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),n.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"}))]]),tn=n.forwardRef((e,t)=>n.createElement(je,{ref:t,...e,weights:Eo}));tn.displayName="CopyIcon";const nn=n.forwardRef((e,t)=>n.createElement(je,{ref:t,...e,weights:Ro}));nn.displayName="DotsThreeIcon";const on=n.forwardRef((e,t)=>n.createElement(je,{ref:t,...e,weights:Mo}));on.displayName="PencilIcon";const rn=n.forwardRef((e,t)=>n.createElement(je,{ref:t,...e,weights:Co}));rn.displayName="TrashIcon";function Ke(e,t,o){if(o&&!He(o))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r==null?void 0:r[t]}return e==null?void 0:e[t]}function To(e,t){const o=n.useRef(null),r=n.useRef(null);return n.useCallback(u=>{if(e!==void 0){if(o.current!==null){const a=o.current,m=r.current,l=t.context.triggerElements.getById(a);m&&l===m&&t.context.triggerElements.delete(a),o.current=null,r.current=null}u!==null&&(o.current=e,r.current=u,t.context.triggerElements.add(e,u))}},[t,e])}function So(e,t,o,r){const u=o.useState("isMountedByTrigger",e),a=To(e,o),m=oe(l=>{if(a(l),!l||!o.select("open"))return;const s=o.select("activeTriggerId");if(s===e){o.update({activeTriggerElement:l,...r});return}s==null&&o.update({activeTriggerId:e,activeTriggerElement:l,...r})});return be(()=>{u&&o.update({activeTriggerElement:t.current,...r})},[u,o,t,...Object.values(r)]),{registerTrigger:m,isMountedByThisTrigger:u}}function sn(e){const t=e.useState("open");be(()=>{if(t&&!e.select("activeTriggerId")&&e.context.triggerElements.size===1){const o=e.context.triggerElements.entries().next();if(!o.done){const[r,u]=o.value;e.update({activeTriggerId:r,activeTriggerElement:u})}}},[t,e])}function an(e,t,o){const{mounted:r,setMounted:u,transitionStatus:a}=On(e);t.useSyncedValues({mounted:r,transitionStatus:a});const m=oe(()=>{var s,E;u(!1),t.update({activeTriggerId:null,activeTriggerElement:null,mounted:!1}),o==null||o(),(E=(s=t.context).onOpenChangeComplete)==null||E.call(s,!1)}),l=t.useState("preventUnmountingOnClose");return Je({enabled:!l,open:e,ref:t.context.popupRef,onComplete(){e||m()}}),{forceUnmount:m,transitionStatus:a}}function wo(){return new _t({open:!1,floatingElement:null,referenceElement:null,triggerElements:new nt,floatingId:"",nested:!1,noEmit:!1,onOpenChange:void 0})}function ln(){return{open:!1,mounted:!1,transitionStatus:"idle",floatingRootContext:wo(),preventUnmountingOnClose:!1,payload:void 0,activeTriggerId:null,activeTriggerElement:null,popupElement:null,positionerElement:null,activeTriggerProps:ge,inactiveTriggerProps:ge,popupProps:ge}}const cn={open:L(e=>e.open),mounted:L(e=>e.mounted),transitionStatus:L(e=>e.transitionStatus),floatingRootContext:L(e=>e.floatingRootContext),preventUnmountingOnClose:L(e=>e.preventUnmountingOnClose),payload:L(e=>e.payload),activeTriggerId:L(e=>e.activeTriggerId),activeTriggerElement:L(e=>e.mounted?e.activeTriggerElement:null),isTriggerActive:L((e,t)=>t!==void 0&&e.activeTriggerId===t),isOpenedByTrigger:L((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.open),isMountedByTrigger:L((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.mounted),triggerProps:L((e,t)=>t?e.activeTriggerProps:e.inactiveTriggerProps),popupProps:L(e=>e.popupProps),popupElement:L(e=>e.popupElement),positionerElement:L(e=>e.positionerElement)};function un(e){const{popupStore:t,noEmit:o=!1,treatPopupAsFloatingElement:r=!1,onOpenChange:u}=e,a=Qe(),m=Pe()!=null,l=t.useState("open"),s=t.useState("activeTriggerElement"),E=t.useState(r?"popupElement":"positionerElement"),v=t.context.triggerElements,d=et(()=>new _t({open:l,referenceElement:s,floatingElement:E,triggerElements:v,onOpenChange:u,floatingId:a,nested:m,noEmit:o})).current;return be(()=>{const h={open:l,floatingId:a,referenceElement:s,floatingElement:E};me(s)&&(h.domReferenceElement=s),d.state.positionReference===d.state.referenceElement&&(h.positionReference=s),d.update(h)},[l,a,s,E,d]),d.context.onOpenChange=u,d.context.nested=m,d.context.noEmit=o,d}const Ue=Wn&&zn;function Po(e,t={}){const o="rootStore"in e?e.rootStore:e,{events:r,dataRef:u}=o.context,{enabled:a=!0,visibleOnly:m=!0,delay:l}=t,s=n.useRef(!1),E=n.useRef(null),v=ve(),d=n.useRef(!0);n.useEffect(()=>{const f=o.select("domReferenceElement");if(!a)return;const x=Nn(f);function g(){const b=o.select("domReferenceElement");!o.select("open")&&jt(b)&&b===xt(we(b))&&(s.current=!0)}function C(){d.current=!0}function R(){d.current=!1}return x.addEventListener("blur",g),Ue&&(x.addEventListener("keydown",C,!0),x.addEventListener("pointerdown",R,!0)),()=>{x.removeEventListener("blur",g),Ue&&(x.removeEventListener("keydown",C,!0),x.removeEventListener("pointerdown",R,!0))}},[o,a]),n.useEffect(()=>{if(!a)return;function f(x){if(x.reason===Vt||x.reason===Ft){const g=o.select("domReferenceElement");me(g)&&(E.current=g,s.current=!0)}}return r.on("openchange",f),()=>{r.off("openchange",f)}},[r,a,o]);const h=n.useMemo(()=>({onMouseLeave(){s.current=!1,E.current=null},onFocus(f){const x=f.currentTarget;if(s.current){if(E.current===x)return;s.current=!1,E.current=null}const g=Ae(f.nativeEvent);if(m&&me(g)){if(Ue&&!f.relatedTarget){if(!d.current&&!$n(g))return}else if(!Yn(g))return}const C=f.relatedTarget&&o.context.triggerElements.hasElement(f.relatedTarget),{nativeEvent:R,currentTarget:b}=f,M=typeof l=="function"?l():l;if(o.select("open")&&C||M===0||M===void 0){o.setOpen(!0,J(Se,R,b));return}v.start(M,()=>{s.current||o.setOpen(!0,J(Se,R,b))})},onBlur(f){s.current=!1,E.current=null;const x=f.relatedTarget,g=f.nativeEvent,C=me(x)&&x.hasAttribute(Bt("focus-guard"))&&x.getAttribute("data-type")==="outside";v.start(0,()=>{var F;const R=o.select("domReferenceElement"),b=xt(R?R.ownerDocument:document);if(!x&&b===R||se((F=u.current.floatingContext)==null?void 0:F.refs.floating.current,b)||se(R,b)||C)return;const M=x??b;if(me(M)){const c=o.context.triggerElements;if(c.hasElement(M)||c.hasMatchingElement(B=>se(B,M)))return}o.setOpen(!1,J(Se,g))})}}),[u,o,m,v,l]);return n.useMemo(()=>a?{reference:h,trigger:h}:{},[a,h])}const qe=Bt("safe-polygon"),Io=`button,a,[role="button"],select,[tabindex]:not([tabindex="-1"]),${Gn}`;function ko(e){return e?!!e.closest(Io):!1}function dn(e){const t=n.useRef(void 0),o=n.useRef(!1),r=n.useRef(void 0),u=n.useRef(!0),a=n.useRef(!1),m=n.useRef(()=>{}),l=n.useRef(!1),s=ve(),E=ve(),v=n.useRef(void 0);return n.useMemo(()=>{const d=e.context.dataRef.current;return d.hoverInteractionState||(d.hoverInteractionState={pointerTypeRef:t,interactedInsideRef:o,handlerRef:r,blockMouseMoveRef:u,performedPointerEventsMutationRef:a,unbindMouseMoveRef:m,restTimeoutPendingRef:l,openChangeTimeout:s,restTimeout:E,handleCloseOptionsRef:v}),d.hoverInteractionState},[e,t,o,r,u,a,m,l,s,E,v])}const Oo=new Set(["click","mousedown"]);function No(e,t={}){const o="rootStore"in e?e.rootStore:e,r=o.useState("open"),u=o.useState("floatingElement"),a=o.useState("domReferenceElement"),{dataRef:m}=o.context,{enabled:l=!0,closeDelay:s=0,externalTree:E}=t,{pointerTypeRef:v,interactedInsideRef:d,handlerRef:h,performedPointerEventsMutationRef:f,unbindMouseMoveRef:x,restTimeoutPendingRef:g,openChangeTimeout:C,handleCloseOptionsRef:R}=dn(o),b=ot(E),M=Pe(),F=oe(()=>d.current?!0:m.current.openEvent?Oo.has(m.current.openEvent.type):!1),c=oe(()=>{var O;const k=(O=m.current.openEvent)==null?void 0:O.type;return(k==null?void 0:k.includes("mouse"))&&k!=="mousedown"}),B=n.useCallback((k,O=!0)=>{const T=Ho(s,v.current);T&&!h.current?C.start(T,()=>o.setOpen(!1,J(ae,k))):O&&(C.clear(),o.setOpen(!1,J(ae,k)))},[s,h,o,v,C]),N=oe(()=>{x.current(),h.current=void 0}),K=oe(()=>{if(f.current){const k=we(u).body;k.style.pointerEvents="",k.removeAttribute(qe),f.current=!1}}),I=oe(k=>{const O=Ae(k);if(!ko(O)){d.current=!1;return}d.current=!0});be(()=>{r||(v.current=void 0,g.current=!1,d.current=!1,N(),K())},[r,v,g,d,N,K]),n.useEffect(()=>()=>{N()},[N]),n.useEffect(()=>K,[K]),be(()=>{var k,O,T;if(l&&r&&(k=R.current)!=null&&k.blockPointerEvents&&c()&&me(a)&&u){f.current=!0;const p=we(u).body;p.setAttribute(qe,"");const D=a,A=u,Z=(T=(O=b==null?void 0:b.nodesRef.current.find(Q=>Q.id===M))==null?void 0:O.context)==null?void 0:T.elements.floating;return Z&&(Z.style.pointerEvents=""),p.style.pointerEvents="none",D.style.pointerEvents="auto",A.style.pointerEvents="auto",()=>{p.style.pointerEvents="",D.style.pointerEvents="",A.style.pointerEvents=""}}},[l,r,a,u,R,c,b,M,f]),n.useEffect(()=>{if(!l)return;function k(D){if(F()||!m.current.floatingContext||!o.select("open"))return;const A=o.context.triggerElements;D.relatedTarget&&A.hasElement(D.relatedTarget)||(K(),N(),F()||B(D))}function O(D){var A;C.clear(),K(),(A=h.current)==null||A.call(h,D),N()}function T(D){F()||B(D,!1)}const p=u;return p&&(p.addEventListener("mouseleave",k),p.addEventListener("mouseenter",O),p.addEventListener("mouseleave",T),p.addEventListener("pointerdown",I,!0)),()=>{p&&(p.removeEventListener("mouseleave",k),p.removeEventListener("mouseenter",O),p.removeEventListener("mouseleave",T),p.removeEventListener("pointerdown",I,!0))}})}function Ho(e,t){return t&&!He(t)?0:typeof e=="function"?e():e}function $e(e){return typeof e=="function"?e():e}const jo={current:null};function Vo(e,t={}){var Q;const o="rootStore"in e?e.rootStore:e,{dataRef:r,events:u}=o.context,{enabled:a=!0,delay:m=0,handleClose:l=null,mouseOnly:s=!1,restMs:E=0,move:v=!0,triggerElementRef:d=jo,externalTree:h,isActiveTrigger:f=!0}=t,x=ot(h),{pointerTypeRef:g,interactedInsideRef:C,handlerRef:R,blockMouseMoveRef:b,performedPointerEventsMutationRef:M,unbindMouseMoveRef:F,restTimeoutPendingRef:c,openChangeTimeout:B,restTimeout:N,handleCloseOptionsRef:K}=dn(o),I=Be(l),k=Be(m),O=Be(E);f&&(K.current=(Q=I.current)==null?void 0:Q.__options);const T=oe(()=>C.current?!0:r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1),p=n.useCallback((w,y=!0)=>{const P=Ke(k.current,"close",g.current);P&&!R.current?B.start(P,()=>o.setOpen(!1,J(ae,w))):y&&(B.clear(),o.setOpen(!1,J(ae,w)))},[k,R,o,g,B]),D=oe(()=>{F.current(),R.current=void 0}),A=oe(()=>{if(M.current){const w=we(o.select("domReferenceElement")).body;w.style.pointerEvents="",w.removeAttribute(qe),M.current=!1}});n.useEffect(()=>{if(!a)return;function w(y){y.open||(B.clear(),N.clear(),b.current=!0,c.current=!1)}return u.on("openchange",w),()=>{u.off("openchange",w)}},[a,u,B,N,b,c]);const Z=oe(w=>{var H;if(T()||!r.current.floatingContext)return;const y=o.context.triggerElements;if(w.relatedTarget&&y.hasElement(w.relatedTarget))return;const P=d.current;(H=I.current)==null||H.call(I,{...r.current.floatingContext,tree:x,x:w.clientX,y:w.clientY,onClose(){A(),D(),!T()&&P===o.select("domReferenceElement")&&p(w)}})(w)});return n.useEffect(()=>{if(!a)return;const w=d.current??(f?o.select("domReferenceElement"):null);if(!me(w))return;function y(S){if(B.clear(),b.current=!1,s&&!He(g.current)||$e(O.current)>0&&!Ke(k.current,"open"))return;const j=Ke(k.current,"open",g.current),$=o.select("domReferenceElement"),Y=o.context.triggerElements,V=(Y.hasElement(S.target)||Y.hasMatchingElement(ee=>se(ee,S.target)))&&(!$||!se($,S.target)),_=S.currentTarget??null,z=o.select("open"),G=!z||V;V&&z?o.setOpen(!0,J(ae,S,_)):j?B.start(j,()=>{G&&o.setOpen(!0,J(ae,S,_))}):G&&o.setOpen(!0,J(ae,S,_))}function P(S){if(T()){A();return}F.current();const j=o.select("domReferenceElement"),$=we(j);N.clear(),c.current=!1;const Y=o.context.triggerElements;if(S.relatedTarget&&Y.hasElement(S.relatedTarget))return;if(I.current&&r.current.floatingContext){o.select("open")||B.clear();const _=d.current;R.current=I.current({...r.current.floatingContext,tree:x,x:S.clientX,y:S.clientY,onClose(){A(),D(),!T()&&_===o.select("domReferenceElement")&&p(S,!0)}});const z=R.current;z(S),$.addEventListener("mousemove",z),F.current=()=>{$.removeEventListener("mousemove",z)};return}(g.current==="touch"?!se(o.select("floatingElement"),S.relatedTarget):!0)&&p(S)}function H(S){Z(S)}return o.select("open")&&w.addEventListener("mouseleave",H),v&&w.addEventListener("mousemove",y,{once:!0}),w.addEventListener("mouseenter",y),w.addEventListener("mouseleave",P),()=>{w.removeEventListener("mouseleave",H),v&&w.removeEventListener("mousemove",y),w.removeEventListener("mouseenter",y),w.removeEventListener("mouseleave",P)}},[D,A,b,r,k,p,o,a,I,Z,f,T,s,v,g,O,N,c,B,d,x,F,R]),n.useMemo(()=>{function w(y){g.current=y.pointerType}return{onPointerDown:w,onPointerEnter:w,onMouseMove(y){const{nativeEvent:P}=y,H=y.currentTarget,S=o.select("domReferenceElement"),j=o.context.triggerElements,$=o.select("open"),Y=(j.hasElement(y.target)||j.hasMatchingElement(_=>se(_,y.target)))&&(!S||!se(S,y.target));if(s&&!He(g.current)||$&&!Y||$e(O.current)===0||!Y&&c.current&&y.movementX**2+y.movementY**2<2)return;N.clear();function V(){if(c.current=!1,T())return;const _=o.select("open");!b.current&&(!_||Y)&&o.setOpen(!0,J(ae,P,H))}g.current==="touch"?Ne.flushSync(()=>{V()}):Y&&$?V():(c.current=!0,N.start($e(O.current),V))}}},[b,T,s,o,g,O,N,c])}const Fo=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function fn(e,t={}){const o="rootStore"in e?e.rootStore:e,r=o.useState("open"),u=o.useState("floatingId"),a=o.useState("domReferenceElement"),m=o.useState("floatingElement"),{enabled:l=!0,role:s="dialog"}=t,E=Qe(),v=(a==null?void 0:a.id)||E,d=n.useMemo(()=>{var M;return((M=Xn(m))==null?void 0:M.id)||u},[m,u]),h=Fo.get(s)??s,x=Pe()!=null,g=n.useMemo(()=>h==="tooltip"||s==="label"?ge:{"aria-haspopup":h==="alertdialog"?"dialog":h,"aria-expanded":"false",...h==="listbox"&&{role:"combobox"},...h==="menu"&&x&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[h,x,s]),C=n.useMemo(()=>h==="tooltip"||s==="label"?{[`aria-${s==="label"?"labelledby":"describedby"}`]:r?d:void 0}:{...g,"aria-expanded":r?"true":"false","aria-controls":r?d:void 0,...h==="menu"&&{id:v}},[h,d,r,v,s,g]),R=n.useMemo(()=>{const M={id:d,...h&&{role:h}};return h==="tooltip"||s==="label"?M:{...M,...h==="menu"&&{"aria-labelledby":v}}},[h,d,v,s]),b=n.useCallback(({active:M,selected:F})=>{const c={role:"option",...M&&{id:`${d}-fui-option`}};switch(s){case"select":case"combobox":return{...c,"aria-selected":F}}return{}},[d,s]);return n.useMemo(()=>l?{reference:C,floating:R,item:b,trigger:g}:{},[l,C,R,g,b])}function Et(e,t){const[o,r]=e;let u=!1;const a=t.length;for(let m=0,l=a-1;m<a;l=m++){const[s,E]=t[m]||[0,0],[v,d]=t[l]||[0,0];E>=r!=d>=r&&o<=(v-s)*(r-E)/(d-E)+s&&(u=!u)}return u}function Ao(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Lo(e={}){const{buffer:t=.5,blockPointerEvents:o=!1,requireIntent:r=!0}=e,u=new qn;let a=!1,m=null,l=null,s=typeof performance<"u"?performance.now():0;function E(d,h){const f=performance.now(),x=f-s;if(m===null||l===null||x===0)return m=d,l=h,s=f,null;const g=d-m,C=h-l,b=Math.sqrt(g*g+C*C)/x;return m=d,l=h,s=f,b}const v=({x:d,y:h,placement:f,elements:x,onClose:g,nodeId:C,tree:R})=>function(M){function F(){u.clear(),g()}if(u.clear(),!x.domReference||!x.floating||f==null||d==null||h==null)return;const{clientX:c,clientY:B}=M,N=[c,B],K=Ae(M),I=M.type==="mouseleave",k=se(x.floating,K),O=se(x.domReference,K),T=x.domReference.getBoundingClientRect(),p=x.floating.getBoundingClientRect(),D=f.split("-")[0],A=d>p.right-p.width/2,Z=h>p.bottom-p.height/2,Q=Ao(N,T),w=p.width>T.width,y=p.height>T.height,P=(w?T:p).left,H=(w?T:p).right,S=(y?T:p).top,j=(y?T:p).bottom;if(k&&(a=!0,!I))return;if(O&&(a=!1),O&&!I){a=!0;return}if(I&&me(M.relatedTarget)&&se(x.floating,M.relatedTarget)||R&&Jn(R.nodesRef.current,C).some(({context:V})=>V==null?void 0:V.open))return;if(D==="top"&&h>=T.bottom-1||D==="bottom"&&h<=T.top+1||D==="left"&&d>=T.right-1||D==="right"&&d<=T.left+1)return F();let $=[];switch(D){case"top":$=[[P,T.top+1],[P,p.bottom-1],[H,p.bottom-1],[H,T.top+1]];break;case"bottom":$=[[P,p.top+1],[P,T.bottom-1],[H,T.bottom-1],[H,p.top+1]];break;case"left":$=[[p.right-1,j],[p.right-1,S],[T.left+1,S],[T.left+1,j]];break;case"right":$=[[T.right-1,j],[T.right-1,S],[p.left+1,S],[p.left+1,j]];break}function Y([V,_]){switch(D){case"top":{const z=[w?V+t/2:A?V+t*4:V-t*4,_+t+1],G=[w?V-t/2:A?V+t*4:V-t*4,_+t+1],ee=[[p.left,A||w?p.bottom-t:p.top],[p.right,A?w?p.bottom-t:p.top:p.bottom-t]];return[z,G,...ee]}case"bottom":{const z=[w?V+t/2:A?V+t*4:V-t*4,_-t],G=[w?V-t/2:A?V+t*4:V-t*4,_-t],ee=[[p.left,A||w?p.top+t:p.bottom],[p.right,A?w?p.top+t:p.bottom:p.top+t]];return[z,G,...ee]}case"left":{const z=[V+t+1,y?_+t/2:Z?_+t*4:_-t*4],G=[V+t+1,y?_-t/2:Z?_+t*4:_-t*4];return[...[[Z||y?p.right-t:p.left,p.top],[Z?y?p.right-t:p.left:p.right-t,p.bottom]],z,G]}case"right":{const z=[V-t,y?_+t/2:Z?_+t*4:_-t*4],G=[V-t,y?_-t/2:Z?_+t*4:_-t*4],ee=[[Z||y?p.left+t:p.right,p.top],[Z?y?p.left+t:p.right:p.left+t,p.bottom]];return[z,G,...ee]}default:return[]}}if(!Et([c,B],$)){if(a&&!Q)return F();if(!I&&r){const V=E(M.clientX,M.clientY);if(V!==null&&V<.1)return F()}Et([c,B],Y([d,h]))?!a&&r&&u.start(40,F):F()}};return v.__options={blockPointerEvents:o},v}function Do(e){const{store:t,parentContext:o,actionsRef:r}=e,u=t.useState("open"),a=t.useState("disablePointerDismissal"),m=t.useState("modal"),l=t.useState("popupElement"),{openMethod:s,triggerProps:E,reset:v}=Kt(u);sn(t);const{forceUnmount:d}=an(u,t,()=>{v()}),h=oe(k=>{const O=J(k);return O.preventUnmountOnClose=()=>{t.set("preventUnmountingOnClose",!0)},O}),f=n.useCallback(()=>{t.setOpen(!1,h(At))},[t,h]);n.useImperativeHandle(r,()=>({unmount:d,close:f}),[d,f]);const x=un({popupStore:t,onOpenChange:t.setOpen,treatPopupAsFloatingElement:!0,noEmit:!0}),[g,C]=n.useState(0),R=g===0,b=fn(x),M=Ut(x,{outsidePressEvent(){return t.context.internalBackdropRef.current||t.context.backdropRef.current?"intentional":{mouse:m==="trap-focus"?"sloppy":"intentional",touch:"sloppy"}},outsidePress(k){if("button"in k&&k.button!==0||"touches"in k&&k.touches.length!==1)return!1;const O=Ae(k);if(R&&!a){const T=O;return m&&(t.context.internalBackdropRef.current||t.context.backdropRef.current)?t.context.internalBackdropRef.current===T||t.context.backdropRef.current===T||se(T,l)&&!(T!=null&&T.hasAttribute("data-base-ui-portal")):!0}return!1},escapeKey:R});$t(u&&m===!0,l);const{getReferenceProps:F,getFloatingProps:c,getTriggerProps:B}=rt([b,M]);t.useContextCallback("onNestedDialogOpen",k=>{C(k+1)}),t.useContextCallback("onNestedDialogClose",()=>{C(0)}),n.useEffect(()=>(o!=null&&o.onNestedDialogOpen&&u&&o.onNestedDialogOpen(g),o!=null&&o.onNestedDialogClose&&!u&&o.onNestedDialogClose(),()=>{o!=null&&o.onNestedDialogClose&&u&&o.onNestedDialogClose()}),[u,o,g]);const N=n.useMemo(()=>F(E),[F,E]),K=n.useMemo(()=>B(E),[B,E]),I=n.useMemo(()=>c(),[c]);t.useSyncedValues({openMethod:s,activeTriggerProps:N,inactiveTriggerProps:K,popupProps:I,floatingRootContext:x,nestedOpenDialogCount:g})}const pn=n.createContext(void 0);function Ee(e){return n.useContext(pn)}const Zo={...cn,modal:L(e=>e.modal),nested:L(e=>e.nested),nestedOpenDialogCount:L(e=>e.nestedOpenDialogCount),disablePointerDismissal:L(e=>e.disablePointerDismissal),openMethod:L(e=>e.openMethod),descriptionElementId:L(e=>e.descriptionElementId),titleElementId:L(e=>e.titleElementId),viewportElement:L(e=>e.viewportElement),role:L(e=>e.role)};class _o extends Yt{constructor(o){super(Bo(o),{popupRef:n.createRef(),backdropRef:n.createRef(),internalBackdropRef:n.createRef(),triggerElements:new nt,onOpenChange:void 0,onOpenChangeComplete:void 0},Zo);_e(this,"setOpen",(o,r)=>{var l,s,E,v;if(r.preventUnmountOnClose=()=>{this.set("preventUnmountingOnClose",!0)},!o&&r.trigger==null&&this.state.activeTriggerId!=null&&(r.trigger=this.state.activeTriggerElement??void 0),(s=(l=this.context).onOpenChange)==null||s.call(l,o,r),r.isCanceled)return;const u={open:o,nativeEvent:r.event,reason:r.reason,nested:this.state.nested};(E=this.state.floatingRootContext.context.events)==null||E.emit("openchange",u);const a={open:o},m=((v=r.trigger)==null?void 0:v.id)??null;(m||o)&&(a.activeTriggerId=m,a.activeTriggerElement=r.trigger??null),this.update(a)})}}function Bo(e={}){return{...ln(),modal:!0,disablePointerDismissal:!1,popupElement:null,viewportElement:null,descriptionElementId:void 0,titleElementId:void 0,openMethod:null,nested:!1,nestedOpenDialogCount:0,role:"dialog",...e}}function Rt(e){const{children:t,open:o,defaultOpen:r=!1,onOpenChange:u,onOpenChangeComplete:a,actionsRef:m,handle:l,triggerId:s,defaultTriggerId:E=null}=e,v=Ee(),d=!!v,h=et(()=>(l==null?void 0:l.store)??new _o({open:o??r,activeTriggerId:s!==void 0?s:E,modal:!0,disablePointerDismissal:!0,nested:d,role:"alertdialog"})).current;h.useControlledProp("open",o,r),h.useControlledProp("activeTriggerId",s,E),h.useSyncedValue("nested",d),h.useContextCallback("onOpenChange",u),h.useContextCallback("onOpenChangeComplete",a);const f=h.useState("payload");Do({store:h,actionsRef:m,parentContext:v==null?void 0:v.store.context});const x=n.useMemo(()=>({store:h}),[h]);return i.jsx(pn.Provider,{value:x,children:typeof t=="function"?t({payload:f}):t})}const Ko={...Le,...tt},Mt=n.forwardRef(function(t,o){const{render:r,className:u,forceRender:a=!1,...m}=t,{store:l}=Ee(),s=l.useState("open"),E=l.useState("nested"),v=l.useState("mounted"),d=l.useState("transitionStatus"),h=n.useMemo(()=>({open:s,transitionStatus:d}),[s,d]);return ie("div",t,{state:h,ref:[l.context.backdropRef,o],stateAttributesMapping:Ko,props:[{role:"presentation",hidden:!v,style:{userSelect:"none",WebkitUserSelect:"none"}},m],enabled:a||!E})}),Ct=n.forwardRef(function(t,o){const{render:r,className:u,disabled:a=!1,nativeButton:m=!0,...l}=t,{store:s}=Ee(),E=s.useState("open");function v(x){E&&s.setOpen(!1,J(Hn,x.nativeEvent))}const{getButtonProps:d,buttonRef:h}=Ve({disabled:a,native:m}),f=n.useMemo(()=>({disabled:a}),[a]);return ie("button",t,{state:f,ref:[o,h],props:[{onClick:v},l,d]})}),Tt=n.forwardRef(function(t,o){const{render:r,className:u,id:a,...m}=t,{store:l}=Ee(),s=Fe(a);return l.useSyncedValueWithCleanup("descriptionElementId",s),ie("p",t,{ref:o,props:[{id:s},m]})});let Uo=function(e){return e.nestedDialogs="--nested-dialogs",e}({}),$o=function(e){return e[e.open=ke.open]="open",e[e.closed=ke.closed]="closed",e[e.startingStyle=ke.startingStyle]="startingStyle",e[e.endingStyle=ke.endingStyle]="endingStyle",e.nested="data-nested",e.nestedDialogOpen="data-nested-dialog-open",e}({});const mn=n.createContext(void 0);function Yo(){const e=n.useContext(mn);if(e===void 0)throw new Error(Ce(26));return e}const Wo={...Le,...tt,nestedDialogOpen(e){return e?{[$o.nestedDialogOpen]:""}:null}},St=n.forwardRef(function(t,o){const{className:r,finalFocus:u,initialFocus:a,render:m,...l}=t,{store:s}=Ee(),E=s.useState("descriptionElementId"),v=s.useState("disablePointerDismissal"),d=s.useState("floatingRootContext"),h=s.useState("popupProps"),f=s.useState("modal"),x=s.useState("mounted"),g=s.useState("nested"),C=s.useState("nestedOpenDialogCount"),R=s.useState("open"),b=s.useState("openMethod"),M=s.useState("titleElementId"),F=s.useState("transitionStatus"),c=s.useState("role");Yo(),Je({open:R,ref:s.context.popupRef,onComplete(){var O,T;R&&((T=(O=s.context).onOpenChangeComplete)==null||T.call(O,!0))}});function B(O){return O==="touch"?s.context.popupRef.current:!0}const N=a===void 0?B:a,K=C>0,I=n.useMemo(()=>({open:R,nested:g,transitionStatus:F,nestedDialogOpen:K}),[R,g,F,K]),k=ie("div",t,{state:I,props:[h,{"aria-labelledby":M??void 0,"aria-describedby":E??void 0,role:c,tabIndex:-1,hidden:!x,onKeyDown(O){Wt.has(O.key)&&O.stopPropagation()},style:{[Uo.nestedDialogs]:C}},l],ref:[o,s.context.popupRef,s.useStateSetter("popupElement")],stateAttributesMapping:Wo});return i.jsx(zt,{context:d,openInteractionType:b,disabled:!x,closeOnFocusOut:!v,initialFocus:N,returnFocus:u,modal:f!==!1,restoreFocus:"popup",children:k})}),wt=n.forwardRef(function(t,o){const{keepMounted:r=!1,...u}=t,{store:a}=Ee(),m=a.useState("mounted"),l=a.useState("modal"),s=a.useState("open");return m||r?i.jsx(mn.Provider,{value:r,children:i.jsxs(Gt,{ref:o,...u,children:[m&&l===!0&&i.jsx(Xt,{ref:a.context.internalBackdropRef,inert:qt(!s)}),t.children]})}):null}),Pt=n.forwardRef(function(t,o){const{render:r,className:u,id:a,...m}=t,{store:l}=Ee(),s=Fe(a);return l.useSyncedValueWithCleanup("titleElementId",s),ie("h2",t,{ref:o,props:[{id:s},m]})}),ce=n.forwardRef(function(t,o){const{render:r,className:u,disabled:a=!1,focusableWhenDisabled:m=!1,nativeButton:l=!0,...s}=t,{getButtonProps:E,buttonRef:v}=Ve({disabled:a,focusableWhenDisabled:m,native:l}),d=n.useMemo(()=>({disabled:a}),[a]);return ie("button",t,{state:d,ref:[o,v],props:[s,E]})}),It=512;function Me(e){if(!e.trim())return"Key is required";const t=new TextEncoder().encode(e).length;return t>It?`Key must be ${It} bytes or less (currently ${t} bytes)`:null}function zo({onAdd:e,clearSignal:t=0}){const[o,r]=n.useState(""),[u,a]=n.useState(""),[m,l]=n.useState(!1),[s,E]=n.useState(null);n.useEffect(()=>{t>0&&(r(""),a(""),E(null))},[t]);const v=f=>{const x=f.target.value;r(x),E(x.trim()?Me(x):null)},d=async f=>{f.preventDefault();const x=Me(o);if(x){E(x);return}try{l(!0),await e(o,u)&&(r(""),a(""),E(null))}finally{l(!1)}},h=!!Me(o);return i.jsxs("form",{className:"flex flex-col lg:flex-row gap-2 mb-4 items-start",onSubmit:d,children:[i.jsxs("div",{className:"flex flex-col w-full lg:w-2xs shrink-0",children:[i.jsx("label",{className:"sr-only",htmlFor:"add-key",children:"Key"}),i.jsx("input",{id:"add-key",className:ye("w-full font-mono bg-bg text-text placeholder:text-text! py-2 px-3 text-sm border border-border rounded-md focus:outline-none focus:border-primary focus:shadow-focus-primary disabled:bg-bg-secondary disabled:text-text-secondary",{"border-danger focus:shadow-focus-danger":s}),placeholder:"Key",value:o,onChange:v,disabled:m}),s&&i.jsx("span",{className:"text-danger text-xs mt-1",children:s})]}),i.jsxs("div",{className:"flex flex-col flex-1 w-full lg:min-w-2xs",children:[i.jsx("label",{className:"sr-only",htmlFor:"add-value",children:"Value"}),i.jsx("textarea",{id:"add-value",className:"w-full font-mono bg-bg text-text placeholder:text-text! py-2 px-3 text-sm border border-border rounded-md focus:outline-none focus:border-primary focus:shadow-focus-primary disabled:bg-bg-secondary disabled:text-text-secondary max-h-2xs resize-none overflow-y-auto lg:[field-sizing:content]",placeholder:"Value",value:u,onChange:f=>a(f.target.value),disabled:m})]}),i.jsx(ce,{type:"submit",className:"shrink-0 w-full lg:w-auto inline-flex items-center justify-center py-2 px-4 text-sm font-medium border-none rounded-md cursor-pointer transition-[background-color,color,transform] active:translate-y-px bg-primary text-white hover:bg-primary-hover focus:outline-none focus:border-primary focus:shadow-focus-primary data-[disabled]:bg-primary/50 data-[disabled]:text-white/70 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0",disabled:m||h,focusableWhenDisabled:!0,children:m?"Adding...":"Add entry"})]})}const gn=n.createContext(void 0);function bn(e){const t=n.useContext(gn);if(t===void 0&&!e)throw new Error(Ce(33));return t}const hn=n.createContext(void 0);function Re(e){const t=n.useContext(hn);if(t===void 0&&!e)throw new Error(Ce(36));return t}const Go=n.createContext(void 0);function De(e=!0){const t=n.useContext(Go);if(t===void 0&&!e)throw new Error(Ce(25));return t}const Xo={type:"regular-item"};function qo(e){const{closeOnClick:t,disabled:o=!1,highlighted:r,id:u,store:a,nativeButton:m,itemMetadata:l,nodeId:s}=e,E=n.useRef(null),v=De(!0),d=v!==void 0,{events:h}=a.useState("floatingTreeRoot"),{getButtonProps:f,buttonRef:x}=Ve({disabled:o,focusableWhenDisabled:!0,native:m}),g=n.useCallback(R=>We({id:u,role:"menuitem",tabIndex:r?0:-1,onMouseMove(b){s&&h.emit("itemhover",{nodeId:s,target:b.currentTarget})},onMouseEnter(){l.type==="submenu-trigger"&&l.setActive()},onKeyUp(b){b.key===" "&&a.context.typingRef.current&&b.preventBaseUIHandler()},onClick(b){t&&h.emit("close",{domEvent:b,reason:Dt})},onMouseUp(b){if(v){const M=v.initialCursorPointRef.current;if(v.initialCursorPointRef.current=null,d&&M&&Math.abs(b.clientX-M.x)<=1&&Math.abs(b.clientY-M.y)<=1)return}E.current&&a.context.allowMouseUpTriggerRef.current&&(!d||b.button===2)&&l.type==="regular-item"&&E.current.click()}},R,f),[u,r,f,t,h,a,d,v,l,s]),C=Lt(E,x);return n.useMemo(()=>({getItemProps:g,itemRef:C}),[g,C])}const kt=n.forwardRef(function(t,o){const{render:r,className:u,id:a,label:m,nativeButton:l=!1,disabled:s=!1,closeOnClick:E=!0,...v}=t,d=Jt({label:m}),h=bn(!0),f=Fe(a),{store:x}=Re(),g=x.useState("isActive",d.index),C=x.useState("itemProps"),{getItemProps:R,itemRef:b}=qo({closeOnClick:E,disabled:s,highlighted:g,id:f,store:x,nativeButton:l,nodeId:h==null?void 0:h.nodeId,itemMetadata:Xo}),M=n.useMemo(()=>({disabled:s,highlighted:g}),[s,g]);return ie("div",t,{state:M,props:[C,v,R],ref:[b,o,d.ref]})}),Jo={...Le,...tt},Qo=n.forwardRef(function(t,o){const{render:r,className:u,finalFocus:a,...m}=t,{store:l}=Re(),{side:s,align:E}=bn(),v=Qn()!=null,d=l.useState("open"),h=l.useState("transitionStatus"),f=l.useState("popupProps"),x=l.useState("mounted"),g=l.useState("instantType"),C=l.useState("activeTriggerElement"),R=l.useState("parent"),b=l.useState("lastOpenChangeReason"),M=l.useState("rootId"),F=l.useState("floatingRootContext"),c=l.useState("floatingTreeRoot"),B=l.useState("closeDelay"),N=l.useState("activeTriggerElement"),K=R.type==="context-menu";Je({open:d,ref:l.context.popupRef,onComplete(){var D,A;d&&((A=(D=l.context).onOpenChangeComplete)==null||A.call(D,!0))}}),n.useEffect(()=>{function D(A){l.setOpen(!1,J(A.reason,A.domEvent))}return c.events.on("close",D),()=>{c.events.off("close",D)}},[c.events,l]);const I=l.useState("hoverEnabled"),k=l.useState("disabled");No(F,{enabled:I&&!k&&!K&&R.type!=="menubar",closeDelay:B});const O=n.useMemo(()=>({transitionStatus:h,side:s,align:E,open:d,nested:R.type==="menu",instant:g}),[h,s,E,d,R.type,g]),T=ie("div",t,{state:O,ref:[o,l.context.popupRef],stateAttributesMapping:Jo,props:[f,{onKeyDown(D){v&&Wt.has(D.key)&&D.stopPropagation()}},eo(h),m,{"data-rootownerid":M}]});let p=R.type===void 0||K;return(C||R.type==="menubar"&&b!==jn)&&(p=!0),i.jsx(zt,{context:F,modal:K,disabled:!x,returnFocus:a===void 0?p:a,initialFocus:R.type!=="menu",restoreFocus:!0,externalTree:R.type!=="menubar"?c:void 0,previousFocusableElement:N,nextFocusableElement:R.type===void 0?l.context.triggerFocusTargetRef:void 0,beforeContentFocusGuardRef:R.type===void 0?l.context.beforeContentFocusGuardRef:void 0,children:T})}),xn=n.createContext(void 0);function er(){const e=n.useContext(xn);if(e===void 0)throw new Error(Ce(32));return e}const tr=n.forwardRef(function(t,o){const{keepMounted:r=!1,...u}=t,{store:a}=Re();return a.useState("mounted")||r?i.jsx(xn.Provider,{value:r,children:i.jsx(Gt,{ref:o,...u})}):null}),nr=n.forwardRef(function(t,o){var ee;const{anchor:r,positionMethod:u="absolute",className:a,render:m,side:l,align:s,sideOffset:E=0,alignOffset:v=0,collisionBoundary:d="clipping-ancestors",collisionPadding:h=5,arrowPadding:f=5,sticky:x=!1,disableAnchorTracking:g=!1,collisionAvoidance:C=to,...R}=t,{store:b}=Re(),M=er(),F=De(!0),c=b.useState("parent"),B=b.useState("floatingRootContext"),N=b.useState("floatingTreeRoot"),K=b.useState("mounted"),I=b.useState("open"),k=b.useState("modal"),O=b.useState("activeTriggerElement"),T=b.useState("lastOpenChangeReason"),p=b.useState("floatingNodeId"),D=b.useState("floatingParentNodeId");let A=r,Z=E,Q=v,w=s,y=C;c.type==="context-menu"&&(A=r??((ee=c.context)==null?void 0:ee.anchor),w=w??"start",!l&&w!=="center"&&(Q=t.alignOffset??2,Z=t.sideOffset??-5));let P=l,H=w;c.type==="menu"?(P=P??"inline-end",H=H??"start",y=t.collisionAvoidance??no):c.type==="menubar"&&(P=P??"bottom",H=H??"start");const S=c.type==="context-menu",j=oo({anchor:A,floatingRootContext:B,positionMethod:F?"fixed":u,mounted:K,side:P,sideOffset:Z,align:H,alignOffset:Q,arrowPadding:S?0:f,collisionBoundary:d,collisionPadding:h,sticky:x,nodeId:p,keepMounted:M,disableAnchorTracking:g,collisionAvoidance:y,shiftCrossAxis:S,externalTree:N}),$=n.useMemo(()=>{const W={};return I||(W.pointerEvents="none"),{role:"presentation",hidden:!K,style:{...j.positionerStyles,...W}}},[I,K,j.positionerStyles]);n.useEffect(()=>{function W(q){q.open?(q.parentNodeId===p&&b.set("hoverEnabled",!1),q.nodeId!==p&&q.parentNodeId===b.select("floatingParentNodeId")&&b.setOpen(!1,J(Te))):q.parentNodeId===p&&q.reason!==Te&&b.set("hoverEnabled",!0)}return N.events.on("menuopenchange",W),()=>{N.events.off("menuopenchange",W)}},[b,N.events,p]),n.useEffect(()=>{if(b.select("floatingParentNodeId")==null)return;function W(q){if(q.open||q.nodeId!==b.select("floatingParentNodeId"))return;const he=q.reason??Te;b.setOpen(!1,J(he))}return N.events.on("menuopenchange",W),()=>{N.events.off("menuopenchange",W)}},[N.events,b]),n.useEffect(()=>{function W(q){!I||q.nodeId!==b.select("floatingParentNodeId")||q.target&&O&&O!==q.target&&b.setOpen(!1,J(Te))}return N.events.on("itemhover",W),()=>{N.events.off("itemhover",W)}},[N.events,I,O,b]),n.useEffect(()=>{const W={open:I,nodeId:p,parentNodeId:D,reason:b.select("lastOpenChangeReason")};N.events.emit("menuopenchange",W)},[N.events,I,b,p,D]);const Y=n.useMemo(()=>({open:I,side:j.side,align:j.align,anchorHidden:j.anchorHidden,nested:c.type==="menu"}),[I,j.side,j.align,j.anchorHidden,c.type]),V=n.useMemo(()=>({side:j.side,align:j.align,arrowRef:j.arrowRef,arrowUncentered:j.arrowUncentered,arrowStyles:j.arrowStyles,nodeId:j.context.nodeId}),[j.side,j.align,j.arrowRef,j.arrowUncentered,j.arrowStyles,j.context.nodeId]),_=ie("div",t,{state:Y,stateAttributesMapping:Le,ref:[o,b.useStateSetter("positionerElement")],props:[$,R]}),z=K&&c.type!=="menu"&&(c.type!=="menubar"&&k&&T!==ae||c.type==="menubar"&&c.context.modal);let G=null;return c.type==="menubar"?G=c.context.contentElement:c.type===void 0&&(G=O),i.jsxs(gn.Provider,{value:V,children:[z&&i.jsx(Xt,{ref:c.type==="context-menu"||c.type==="nested-context-menu"?c.context.internalBackdropRef:null,inert:qt(!I),cutout:G}),i.jsx(ro,{id:p,children:i.jsx(so,{elementsRef:b.context.itemDomElements,labelsRef:b.context.itemLabels,children:_})})]})}),or=n.createContext(null);function yn(e){return n.useContext(or)}const rr={...cn,disabled:L(e=>e.parent.type==="menubar"&&e.parent.context.disabled||e.disabled),modal:L(e=>(e.parent.type===void 0||e.parent.type==="context-menu")&&(e.modal??!0)),allowMouseEnter:L(e=>e.parent.type==="menu"?e.parent.store.select("allowMouseEnter"):e.allowMouseEnter),stickIfOpen:L(e=>e.stickIfOpen),parent:L(e=>e.parent),rootId:L(e=>e.parent.type==="menu"?e.parent.store.select("rootId"):e.parent.type!==void 0?e.parent.context.rootId:e.rootId),activeIndex:L(e=>e.activeIndex),isActive:L((e,t)=>e.activeIndex===t),hoverEnabled:L(e=>e.hoverEnabled),instantType:L(e=>e.instantType),lastOpenChangeReason:L(e=>e.openChangeReason),floatingTreeRoot:L(e=>e.parent.type==="menu"?e.parent.store.select("floatingTreeRoot"):e.floatingTreeRoot),floatingNodeId:L(e=>e.floatingNodeId),floatingParentNodeId:L(e=>e.floatingParentNodeId),itemProps:L(e=>e.itemProps),closeDelay:L(e=>e.closeDelay),keyboardEventRelay:L(e=>{if(e.keyboardEventRelay)return e.keyboardEventRelay;if(e.parent.type==="menu")return e.parent.store.select("keyboardEventRelay")})};class st extends Yt{constructor(o){super({...sr(),...o},{positionerRef:n.createRef(),popupRef:n.createRef(),typingRef:{current:!1},itemDomElements:{current:[]},itemLabels:{current:[]},allowMouseUpTriggerRef:{current:!1},triggerFocusTargetRef:n.createRef(),beforeContentFocusGuardRef:n.createRef(),onOpenChangeComplete:void 0,triggerElements:new nt},rr);_e(this,"unsubscribeParentListener",null);this.observe(L(r=>r.allowMouseEnter),(r,u)=>{this.state.parent.type==="menu"&&r!==u&&this.state.parent.store.set("allowMouseEnter",r)}),this.unsubscribeParentListener=this.observe("parent",r=>{var u;if((u=this.unsubscribeParentListener)==null||u.call(this),r.type==="menu"){this.unsubscribeParentListener=r.store.subscribe(()=>{this.notifyAll()}),this.context.allowMouseUpTriggerRef=r.store.context.allowMouseUpTriggerRef;return}r.type!==void 0&&(this.context.allowMouseUpTriggerRef=r.context.allowMouseUpTriggerRef),this.unsubscribeParentListener=null})}setOpen(o,r){this.state.floatingRootContext.context.events.emit("setOpen",{open:o,eventDetails:r})}static useStore(o,r){const u=et(()=>new st(r)).current;return o??u}}function sr(){return{...ln(),disabled:!1,modal:!0,allowMouseEnter:!0,stickIfOpen:!0,parent:{type:void 0},rootId:void 0,activeIndex:null,hoverEnabled:!0,instantType:void 0,openChangeReason:null,floatingTreeRoot:new Qt,floatingNodeId:void 0,floatingParentNodeId:null,itemProps:ge,keyboardEventRelay:void 0,closeDelay:0}}const ar=n.createContext(void 0);function ir(){return n.useContext(ar)}function lr(e){const{children:t,open:o,onOpenChange:r,onOpenChangeComplete:u,defaultOpen:a=!1,disabled:m=!1,modal:l,loopFocus:s=!0,orientation:E="vertical",actionsRef:v,closeParentOnEsc:d=!1,handle:h,triggerId:f,defaultTriggerId:x=null,highlightItemOnHover:g=!0}=e,C=De(!0),R=Re(!0),b=yn(),M=ir(),F=n.useMemo(()=>M&&R?{type:"menu",store:R.store}:b?{type:"menubar",context:b}:C&&!R?{type:"context-menu",context:C}:{type:void 0},[C,R,b,M]),c=st.useStore(h==null?void 0:h.store,{parent:F}),B=c.useState("floatingTreeRoot"),N=en(B),K=Pe();be(()=>{C&&!R?c.update({parent:{type:"context-menu",context:C},floatingNodeId:N,floatingParentNodeId:K}):R&&c.update({floatingNodeId:N,floatingParentNodeId:K})},[C,R,N,K,c]),c.useControlledProp("open",o,a),c.useControlledProp("activeTriggerId",f,x),c.useContextCallback("onOpenChangeComplete",u);const I=c.useState("open"),k=c.useState("activeTriggerElement"),O=c.useState("positionerElement"),T=c.useState("hoverEnabled"),p=c.useState("modal"),D=c.useState("disabled"),A=c.useState("lastOpenChangeReason"),Z=c.useState("parent"),Q=c.useState("activeIndex"),w=c.useState("payload"),y=c.useState("floatingParentNodeId"),P=n.useRef(null),H=y!=null;let S;c.useSyncedValues({disabled:m,modal:Z.type===void 0?l:void 0,rootId:Qe()});const{openMethod:j,triggerProps:$,reset:Y}=Kt(I);sn(c);const{forceUnmount:V}=an(I,c,()=>{c.update({allowMouseEnter:!1,stickIfOpen:!0}),Y()}),_=n.useRef(Z.type!=="context-menu"),z=ve();n.useEffect(()=>{if(I||(P.current=null),Z.type==="context-menu"){if(!I){z.clear(),_.current=!1;return}z.start(500,()=>{_.current=!0})}},[z,I,Z.type]),$t(I&&p&&A!==ae&&j!=="touch",O),be(()=>{!I&&!T&&c.set("hoverEnabled",!0)},[I,T,c]);const G=n.useRef(!0),ee=ve(),W=oe((U,X)=>{const re=X.reason;if(I===U&&X.trigger===k&&A===re||(X.preventUnmountOnClose=()=>{c.set("preventUnmountingOnClose",!0)},!U&&X.trigger==null&&(X.trigger=k??void 0),r==null||r(U,X),X.isCanceled))return;const wn={open:U,nativeEvent:X.event,reason:X.reason,nested:H};S==null||S.emit("openchange",wn);const pe=X.event;if(U===!1&&(pe==null?void 0:pe.type)==="click"&&pe.pointerType==="touch"&&!G.current)return;if(!U&&Q!==null){const xe=c.context.itemDomElements.current[Q];queueMicrotask(()=>{xe==null||xe.setAttribute("tabindex","-1")})}U&&re===Se?(G.current=!1,ee.start(300,()=>{G.current=!0})):(G.current=!0,ee.clear());const ft=(re===Vt||re===Dt)&&pe.detail===0&&(pe==null?void 0:pe.isTrusted),Pn=!U&&(re===Ft||re==null);function pt(){var gt;const xe={open:U,openChangeReason:re};P.current=X.event??null;const mt=((gt=X.trigger)==null?void 0:gt.id)??null;(mt||U)&&(xe.activeTriggerId=mt,xe.activeTriggerElement=X.trigger??null),c.update(xe)}re===ae?Ne.flushSync(pt):pt(),Z.type==="menubar"&&(re===Se||re===ze||re===ae||re===Fn||re===Te)?c.set("instantType","group"):ft||Pn?c.set("instantType",ft?"click":"dismiss"):c.set("instantType",void 0)}),q=n.useCallback(U=>{const X=J(U);return X.preventUnmountOnClose=()=>{c.set("preventUnmountingOnClose",!0)},X},[c]),he=n.useCallback(()=>{c.setOpen(!1,q(At))},[c,q]);n.useImperativeHandle(v,()=>({unmount:V,close:he}),[V,he]);let ue;Z.type==="context-menu"&&(ue=Z.context),n.useImperativeHandle(ue==null?void 0:ue.positionerRef,()=>O,[O]),n.useImperativeHandle(ue==null?void 0:ue.actionsRef,()=>({setOpen:W}),[W]);const fe=un({popupStore:c,onOpenChange:W});S=fe.context.events,n.useEffect(()=>{const U=({open:X,eventDetails:re})=>W(X,re);return S.on("setOpen",U),()=>{S==null||S.off("setOpen",U)}},[S,W]);const Ie=Ut(fe,{enabled:!D,bubbles:{escapeKey:d&&Z.type==="menu"},outsidePress(){var U;return Z.type!=="context-menu"||((U=P.current)==null?void 0:U.type)==="contextmenu"?!0:_.current},externalTree:H?B:void 0}),te=fn(fe,{role:"menu"}),ne=ao(),de=n.useCallback(U=>{c.select("activeIndex")!==U&&c.set("activeIndex",U)},[c]),le=io(fe,{enabled:!D,listRef:c.context.itemDomElements,activeIndex:Q,nested:Z.type!==void 0,loopFocus:s,orientation:E,parentOrientation:Z.type==="menubar"?Z.context.orientation:void 0,rtl:ne==="rtl",disabledIndices:Ge,onNavigate:de,openOnArrowKeyDown:Z.type!=="context-menu",externalTree:H?B:void 0,focusItemOnHover:g}),Ze=n.useCallback(U=>{c.context.typingRef.current=U},[c]),En=lo(fe,{listRef:c.context.itemLabels,activeIndex:Q,resetMs:uo,onMatch:U=>{I&&U!==Q&&c.set("activeIndex",U)},onTypingChange:Ze}),{getReferenceProps:at,getFloatingProps:it,getItemProps:lt,getTriggerProps:ct}=rt([Ie,te,le,En]),Rn=n.useMemo(()=>{const U=We(at(),{onMouseEnter(){c.set("hoverEnabled",!0)},onMouseMove(){c.set("allowMouseEnter",!0)}},$);return delete U.role,U},[at,c,$]),Mn=n.useMemo(()=>{const U=ct();if(!U)return U;const X=We(U,$);return delete X.role,delete X["aria-controls"],X},[ct,$]),ut=Vn(),Cn=n.useMemo(()=>it({onMouseEnter(){Z.type==="menu"&&ut.request(()=>c.set("hoverEnabled",!1))},onMouseMove(){c.set("allowMouseEnter",!0)},onClick(){c.select("hoverEnabled")&&c.set("hoverEnabled",!1)},onKeyDown(U){const X=c.select("keyboardEventRelay");X&&!U.isPropagationStopped()&&X(U)}}),[it,Z.type,ut,c]),Tn=n.useMemo(()=>lt(),[lt]);c.useSyncedValues({floatingRootContext:fe,activeTriggerProps:Rn,inactiveTriggerProps:Mn,popupProps:Cn,itemProps:Tn});const Sn=n.useMemo(()=>({store:c,parent:F}),[c,F]),dt=i.jsx(hn.Provider,{value:Sn,children:typeof t=="function"?t({payload:w}):t});return Z.type===void 0||Z.type==="context-menu"?i.jsx(co,{externalTree:B,children:dt}):dt}function cr(e={}){const{highlightItemOnHover:t,highlightedIndex:o,onHighlightedIndexChange:r}=Zt(),{ref:u,index:a}=Jt(e),m=o===a,l=n.useRef(null),s=Lt(u,l);return{compositeProps:n.useMemo(()=>({tabIndex:m?0:-1,onFocus(){r(a)},onMouseMove(){const v=l.current;if(!t||!v)return;const d=v.hasAttribute("disabled")||v.ariaDisabled==="true";!m&&!d&&v.focus()}}),[m,r,a,t]),compositeRef:s,index:a}}function ur(e){const{render:t,className:o,state:r=ge,props:u=Ge,refs:a=Ge,metadata:m,stateAttributesMapping:l,tag:s="div",...E}=e,{compositeProps:v,compositeRef:d}=cr({metadata:m});return ie(s,e,{state:r,ref:[...a,d],props:[v,...u,E],stateAttributesMapping:l})}function vn(e){if(jt(e)&&e.hasAttribute("data-rootownerid"))return e.getAttribute("data-rootownerid")??void 0;if(!An(e))return vn(Ln(e))}function dr(e){const{enabled:t=!0,mouseDownAction:o,open:r}=e,u=n.useRef(!1);return n.useMemo(()=>t?{onMouseDown:a=>{(o==="open"&&!r||o==="close"&&r)&&(u.current=!0,Xe(a.currentTarget).addEventListener("click",()=>{u.current=!1},{once:!0}))},onClick:a=>{u.current&&(u.current=!1,a.preventBaseUIHandler())}}:ge,[t,o,r])}const Oe=2,fr=n.forwardRef(function(t,o){const{render:r,className:u,disabled:a=!1,nativeButton:m=!0,id:l,openOnHover:s,delay:E=100,closeDelay:v=0,handle:d,payload:h,...f}=t,x=Re(!0),g=(d==null?void 0:d.store)??(x==null?void 0:x.store);if(!g)throw new Error(Ce(85));const C=Fe(l),R=g.useState("isTriggerActive",C),b=g.useState("floatingRootContext"),M=g.useState("isOpenedByTrigger",C),F=n.useRef(null),c=mr(),B=Zt(!0),N=ot(),K=n.useMemo(()=>N??new Qt,[N]),I=en(K),k=Pe(),{registerTrigger:O,isMountedByThisTrigger:T}=So(C,F,g,{payload:h,closeDelay:v,parent:c,floatingTreeRoot:K,floatingNodeId:I,floatingParentNodeId:k,keyboardEventRelay:B==null?void 0:B.relayKeyboardEvent}),p=c.type==="menubar",D=g.useState("disabled"),A=a||D||p&&c.context.disabled,{getButtonProps:Z,buttonRef:Q}=Ve({disabled:A,native:m});n.useEffect(()=>{!M&&c.type===void 0&&(g.context.allowMouseUpTriggerRef.current=!1)},[g,M,c.type]);const w=n.useRef(null),y=ve(),P=oe(te=>{if(!w.current)return;y.clear(),g.context.allowMouseUpTriggerRef.current=!1;const ne=te.target;if(se(w.current,ne)||se(g.select("positionerElement"),ne)||ne===w.current||ne!=null&&vn(ne)===g.select("rootId"))return;const de=po(w.current);te.clientX>=de.left-Oe&&te.clientX<=de.right+Oe&&te.clientY>=de.top-Oe&&te.clientY<=de.bottom+Oe||K.events.emit("close",{domEvent:te,reason:Dn})});n.useEffect(()=>{M&&g.select("lastOpenChangeReason")===ae&&Xe(w.current).addEventListener("mouseup",P,{once:!0})},[M,P,g]);const H=p&&c.context.hasSubmenuOpen,j=Vo(b,{enabled:(s??H)&&!A&&c.type!=="context-menu"&&(!p||H&&!T),handleClose:Lo({blockPointerEvents:!p}),mouseOnly:!0,move:!1,restMs:c.type===void 0?E:void 0,delay:{close:v},triggerElementRef:F,externalTree:K,isActiveTrigger:R}),$=pr(M,g.select("lastOpenChangeReason")),Y=fo(b,{enabled:!A&&c.type!=="context-menu",event:M&&p?"click":"mousedown",toggle:!0,ignoreMouse:!1,stickIfOpen:c.type===void 0?$:!1}),V=Po(b,{enabled:!A&&H}),_=dr({open:M,enabled:p,mouseDownAction:"open"}),z=rt([Y,V]),G=n.useMemo(()=>({disabled:A,open:M}),[A,M]),ee=g.useState("triggerProps",T),W=[w,o,Q,O,F],q=[z.getReferenceProps(),j??ge,ee,{"aria-haspopup":"menu",id:C,onMouseDown:te=>{if(g.select("open"))return;y.start(200,()=>{g.context.allowMouseUpTriggerRef.current=!0}),Xe(te.currentTarget).addEventListener("mouseup",P,{once:!0})}},p?{role:"menuitem"}:{},_,f,Z],he=n.useRef(null),ue=oe(te=>{Ne.flushSync(()=>{g.setOpen(!1,J(ze,te.nativeEvent,te.currentTarget))});const ne=go(he.current);ne==null||ne.focus()}),fe=oe(te=>{var de;const ne=g.select("positionerElement");if(ne&&bo(te,ne))(de=g.context.beforeContentFocusGuardRef.current)==null||de.focus();else{Ne.flushSync(()=>{g.setOpen(!1,J(ze,te.nativeEvent,te.currentTarget))});let le=ho(g.context.triggerFocusTargetRef.current||F.current);for(;le!==null&&se(ne,le);){const Ze=le;if(le=xo(le),le===Ze)break}le==null||le.focus()}}),Ie=ie("button",t,{enabled:!p,stateAttributesMapping:yt,state:G,ref:W,props:q});return p?i.jsx(ur,{tag:"button",render:r,className:u,state:G,refs:W,props:q,stateAttributesMapping:yt}):M?i.jsxs(n.Fragment,{children:[i.jsx(vt,{ref:he,onFocus:ue},`${C}-pre-focus-guard`),i.jsx(n.Fragment,{children:Ie},C),i.jsx(vt,{ref:g.context.triggerFocusTargetRef,onFocus:fe},`${C}-post-focus-guard`)]}):i.jsx(n.Fragment,{children:Ie},C)});function pr(e,t){const o=ve(),[r,u]=n.useState(!1);return be(()=>{e&&t==="trigger-hover"?(u(!0),o.start(mo,()=>{u(!1)})):e||(o.clear(),u(!1))},[e,t,o]),r}function mr(){const e=De(!0),t=Re(!0),o=yn();return n.useMemo(()=>o?{type:"menubar",context:o}:e&&!t?{type:"context-menu",context:e}:{type:void 0},[e,t,o])}const gr=n.forwardRef(function(t,o){const{className:r,render:u,orientation:a="horizontal",...m}=t,l=n.useMemo(()=>({orientation:a}),[a]);return ie("div",t,{state:l,ref:o,props:[{role:"separator","aria-orientation":a},m]})});function Ot({text:e}){const[t,o]=n.useState(!1),r=async()=>{await navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),1500)};return i.jsx(ce,{className:ye("flex items-center justify-center w-6 h-6 p-0 border-none rounded bg-transparent text-text-secondary cursor-pointer opacity-0 transition-[opacity,background-color,color] shrink-0 hover:bg-border hover:text-text group-hover/cell:opacity-100",{"opacity-100 text-success":t}),onClick:r,"aria-label":t?"Copied":"Copy to clipboard",children:t?i.jsx(yo,{size:14,weight:"bold"}):i.jsx(tn,{size:14})})}function br(e,t=100){return e===""?"(empty)":e===null?JSON.stringify(e):e.length>t?e.slice(0,t)+"...":e}function hr({onEdit:e,onDelete:t}){return i.jsxs(lr,{children:[i.jsx(fr,{className:"flex items-center justify-center w-7 h-7 border-none rounded-md bg-transparent text-text-secondary cursor-pointer transition-[background-color,color] hover:bg-border hover:text-text","aria-label":"Actions",children:i.jsx(nn,{size:16,weight:"bold"})}),i.jsx(tr,{children:i.jsx(nr,{sideOffset:4,align:"end",children:i.jsxs(Qo,{className:"min-w-24 bg-bg border border-border rounded-lg shadow-[0_4px_12px_rgba(0,0,0,0.15)] z-[100] overflow-hidden transition-[opacity,transform] duration-150 data-[starting-style]:opacity-0 data-[starting-style]:-translate-y-1 data-[ending-style]:opacity-0 data-[ending-style]:-translate-y-1",children:[i.jsxs(kt,{className:"inline-flex items-center gap-1 w-full py-2 px-3 border-none bg-transparent text-left text-sm text-text cursor-pointer transition-colors hover:bg-bg-secondary dark:hover:bg-bg-tertiary data-[highlighted]:bg-bg-secondary dark:data-[highlighted]:bg-bg-tertiary",onClick:e,children:[i.jsx(on,{}),i.jsx("span",{children:"Edit"})]}),i.jsx(gr,{className:"h-px bg-border"}),i.jsxs(kt,{className:"inline-flex items-center gap-1 w-full py-2 px-3 border-none bg-transparent text-left text-sm text-danger cursor-pointer transition-colors hover:bg-danger/8 data-[highlighted]:bg-danger/8",onClick:t,children:[i.jsx(rn,{}),i.jsx("span",{children:"Delete"})]})]})})})]})}function xr({entries:e,onSave:t,onDelete:o}){const[r,u]=n.useState(null),[a,m]=n.useState(!1),l=f=>{u({originalKey:f.key.name,key:f.key.name,value:f.value??"",keyError:null})},s=f=>{r&&u({...r,key:f,keyError:f.trim()?Me(f):null})},E=async()=>{if(!r)return;const f=Me(r.key);if(f){u({...r,keyError:f});return}try{m(!0),await t(r.originalKey,r.key,r.value)&&u(null)}finally{m(!1)}},v=()=>{u(null)},d=f=>{f.key==="Escape"?v():f.key==="Enter"&&(f.metaKey||f.ctrlKey)&&E()},h=r?!!Me(r.key):!1;return i.jsxs("table",{className:"w-full border-separate border-spacing-0 bg-bg border border-border rounded-lg",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2.5 px-3 text-left bg-bg font-semibold text-xs uppercase tracking-wide text-text-secondary border-b border-border first:rounded-tl-[7px]",children:"Key"}),i.jsx("th",{className:"py-2.5 px-3 text-left bg-bg font-semibold text-xs uppercase tracking-wide text-text-secondary border-b border-border",children:"Value"}),i.jsx("th",{className:"py-2.5 px-3 text-left bg-bg font-semibold text-xs uppercase tracking-wide text-text-secondary border-b border-border w-12 last:rounded-tr-[7px]"})]})}),i.jsx("tbody",{children:e.map((f,x)=>{const g=(r==null?void 0:r.originalKey)===f.key.name,C=x===e.length-1;return i.jsxs("tr",{className:"group hover:bg-bg-tertiary",children:[i.jsx("td",{className:ye("py-2 px-3 text-left align-top group/cell",C?"border-b-0 first:rounded-bl-[7px]":"border-b border-border"),children:g&&r?i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{className:"sr-only",htmlFor:`edit-key-${f.key.name}`,children:"Key"}),i.jsx("input",{id:`edit-key-${f.key.name}`,className:ye("w-full font-mono bg-bg text-text min-h-8 py-1.5 px-2 text-[13px] border border-primary rounded focus:outline-none focus:shadow-focus-primary disabled:bg-bg-secondary disabled:text-text-secondary",{"border-danger focus:shadow-focus-danger":r.keyError}),value:r.key,onChange:R=>s(R.target.value),onKeyDown:d,disabled:a,autoFocus:!0}),r.keyError&&i.jsx("span",{className:"text-danger text-xs mt-1",children:r.keyError})]}):i.jsxs("div",{className:"group/cell flex items-center gap-1.5",children:[i.jsx("code",{className:"text-primary font-medium",children:f.key.name}),i.jsx(Ot,{text:f.key.name})]})}),i.jsx("td",{className:ye("py-2 px-3 text-left max-w-[400px] font-mono text-[13px] group/cell",C?"border-b-0":"border-b border-border"),children:g&&r?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("label",{className:"sr-only",htmlFor:`edit-value-${f.key.name}`,children:"Value"}),i.jsx("textarea",{id:`edit-value-${f.key.name}`,className:"w-full font-mono bg-bg text-text min-h-8 py-1.5 px-2 text-[13px] border border-primary rounded focus:outline-none focus:shadow-focus-primary disabled:bg-bg-secondary disabled:text-text-secondary max-h-[200px] resize-none overflow-y-auto [field-sizing:content]",value:r.value,onChange:R=>u({...r,value:R.target.value}),onKeyDown:d,disabled:a}),i.jsxs("div",{className:"flex justify-end gap-1.5",children:[i.jsx(ce,{className:"inline-flex items-center justify-center py-1 px-2.5 text-xs font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-bg-tertiary text-text border border-border hover:bg-border data-[disabled]:opacity-60 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0",onClick:v,disabled:a,children:"Cancel"}),i.jsx(ce,{className:"inline-flex items-center justify-center py-1 px-2.5 text-xs font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-primary text-white hover:bg-primary-hover data-[disabled]:text-white/70 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0",onClick:E,disabled:a||h,focusableWhenDisabled:!0,children:a?"Saving...":"Save"})]})]}):i.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[i.jsx("span",{className:ye("overflow-hidden text-ellipsis whitespace-nowrap min-w-0",{"text-text-secondary":!f.value}),children:br(f.value)}),f.value&&i.jsx(Ot,{text:f.value})]})}),i.jsx("td",{className:ye("py-2 px-3 whitespace-nowrap text-right",C?"border-b-0 last:rounded-br-[7px]":"border-b border-border"),children:!g&&i.jsx(hr,{onEdit:()=>l(f),onDelete:()=>void o(f.key.name)})})]},f.key.name)})})]})}function yr({onSearch:e,disabled:t=!1}){const[o,r]=n.useState(""),u=a=>{a.preventDefault(),e(o)};return i.jsxs("form",{className:"flex gap-2 items-center",onSubmit:u,children:[i.jsx("label",{className:"sr-only",htmlFor:"search-prefix",children:"Search keys by prefix"}),i.jsx("input",{id:"search-prefix",className:"flex-1 max-w-[400px] font-mono bg-bg text-text py-2 px-3 text-sm border border-border rounded-md focus:outline-none focus:border-primary focus:shadow-[0_0_0_3px_rgba(255,72,1,0.15)] disabled:bg-bg-secondary disabled:text-text-secondary",placeholder:"Search keys by prefix...",value:o,onChange:a=>r(a.target.value),disabled:t}),i.jsx(ce,{type:"submit",className:"btn shrink-0 inline-flex items-center justify-center py-2 px-4 text-sm font-medium rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-bg-tertiary text-text border border-border hover:bg-border",disabled:t,focusableWhenDisabled:!0,children:"Search"})]})}const Ye=(e,t)=>e.filter(o=>o.key.name!==t),vr=(e,t,o)=>e.map(r=>r.key.name===t?{key:{name:t},value:o}:r),Nt=(e,t)=>[t,...e],Ht=(e,t)=>e.some(o=>o.key.name===t);function Cr(){const{namespaceId:e}=Zn.useParams(),[t,o]=n.useState([]),[r,u]=n.useState(!0),[a,m]=n.useState(null),[l,s]=n.useState(null),[E,v]=n.useState(!1),[d,h]=n.useState(!1),[f,x]=n.useState(null),[g,C]=n.useState(!1),[R,b]=n.useState(null),[M,F]=n.useState(!1),[c,B]=n.useState(0),[N,K]=n.useState(void 0),I=n.useCallback(async(y,P)=>{var H,S,j,$,Y;try{y?h(!0):(u(!0),o([])),m(null);const V=await _n({path:{namespace_id:e},query:{cursor:y,limit:50,prefix:P}}),_=((H=V.data)==null?void 0:H.result)??[];let z={};_.length>0&&(z=((j=(S=(await Bn({path:{namespace_id:e},body:{keys:_.map(q=>q.name)}})).data)==null?void 0:S.result)==null?void 0:j.values)??{});const G=_.map(W=>({key:W,value:z[W.name]??null}));o(y?W=>[...W,...G]:G);const ee=(Y=($=V.data)==null?void 0:$.result_info)==null?void 0:Y.cursor;s(ee??null),v(!!ee)}catch(V){m(V instanceof Error?V.message:"Failed to fetch entries")}finally{u(!1),h(!1)}},[e]);n.useEffect(()=>{x(null),b(null),m(null),K(void 0),I(void 0,void 0)},[e,I]);const k=()=>{l&&!d&&I(l,N)},O=y=>{const P=y||void 0;K(P),I(void 0,P)},T=async y=>{try{return(await Un({path:{namespace_id:e,key_name:y}})).response.ok}catch{return!1}},p=async(y,P)=>{try{return await T(y)?(b({key:y,value:P}),!1):(await D(y,P),!0)}catch(H){return m(H instanceof Error?H.message:"Failed to add entry"),!1}},D=async(y,P,H=!1)=>{await ht({path:{namespace_id:e,key_name:y},body:P});const S={key:{name:y},value:P};o(j=>{const $=Ht(j,y),Y=Ye(j,y);return $||!H?Nt(Y,S):Y})},A=async(y,P,H)=>{try{return y!==P&&await T(P)?(b({key:P,value:H,originalKey:y}),!1):(await Z(y,P,H),!0)}catch(S){return m(S instanceof Error?S.message:"Failed to save entry"),!1}},Z=async(y,P,H,S=!1)=>{await ht({path:{namespace_id:e,key_name:P},body:H}),y!==P&&await bt({path:{namespace_id:e,key_name:y},body:null});const j={key:{name:P},value:H};o($=>{const Y=y!==P?Ye($,y):$;return Ht(Y,P)?vr(Y,P,H):S?Y:Nt(Y,j)})},Q=async()=>{if(!R)return;const{key:y,value:P,originalKey:H}=R;try{F(!0),H?await Z(H,y,P,!0):(await D(y,P,!0),B(S=>S+1)),b(null)}catch(S){m(S instanceof Error?S.message:"Failed to overwrite")}finally{F(!1)}},w=async()=>{if(f)try{C(!0),await bt({path:{namespace_id:e,key_name:f},body:null}),o(y=>Ye(y,f)),x(null)}catch(y){m(y instanceof Error?y.message:"Failed to delete"),x(null)}finally{C(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx(vo,{icon:Kn,title:"KV",items:[i.jsx("span",{className:"flex items-center gap-1.5",children:e},"namespace-id")]}),i.jsxs("div",{className:"px-6 py-6",children:[a&&i.jsx("div",{className:"text-danger p-4 bg-danger/8 border border-danger/20 rounded-md mb-4",children:a}),i.jsx(yr,{onSearch:O,disabled:r},e),i.jsx("hr",{className:"border-border my-4"}),i.jsx(zo,{onAdd:p,clearSignal:c}),r?i.jsx("div",{className:"text-center p-12 text-text-secondary",children:"Loading..."}):t.length===0?i.jsx("div",{className:"text-center p-12 text-text-secondary space-y-2 flex flex-col items-center justify-center",children:N?i.jsx("p",{className:"text-sm font-light",children:`No keys found matching prefix "${N}".`}):i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-2xl font-medium",children:"No keys in this namespace"}),i.jsx("p",{className:"text-sm font-light",children:"Add an entry using the form above."})]})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"rounded-lg",children:i.jsx(xr,{entries:t,onSave:A,onDelete:y=>x(y)})}),E&&i.jsx("div",{className:"text-center p-4",children:i.jsx(ce,{className:"inline-flex items-center justify-center py-2 px-4 text-sm font-medium rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-bg-tertiary text-text border border-border hover:bg-border data-disabled:opacity-60 data-disabled:cursor-not-allowed data-disabled:active:translate-y-0",onClick:k,disabled:d,focusableWhenDisabled:!0,children:d?"Loading...":"Load More"})})]}),i.jsx(Rt,{open:f!==null,onOpenChange:y=>!y&&x(null),children:i.jsxs(wt,{children:[i.jsx(Mt,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-1000 transition-opacity duration-150 data-starting-style:opacity-0 data-ending-style:opacity-0"}),i.jsxs(St,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-1001 bg-bg rounded-xl p-6 w-full max-w-125 shadow-[0_4px_24px_rgba(0,0,0,0.15),0_0_0_1px_var(--color-border)] transition-[opacity,transform] duration-150 data-starting-style:opacity-0 data-starting-style:scale-95 data-ending-style:opacity-0 data-ending-style:scale-95",children:[i.jsx(Pt,{className:"text-lg font-semibold mb-4",children:"Delete key?"}),i.jsxs(Tt,{className:"text-text-secondary mb-2",children:["Are you sure you want to delete ",f,"? This cannot be undone."]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(Ct,{render:i.jsx(ce,{className:"inline-flex items-center justify-center py-2 px-4 text-sm font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-bg-tertiary text-text border border-border hover:bg-border data-disabled:opacity-60 data-disabled:cursor-not-allowed data-disabled:active:translate-y-0"}),disabled:g,children:"Cancel"}),i.jsx(ce,{className:"inline-flex items-center justify-center py-2 px-4 text-sm font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-danger text-bg-tertiary hover:bg-danger-hover data-disabled:opacity-60 data-disabled:cursor-not-allowed data-disabled:active:translate-y-0",onClick:w,disabled:g,focusableWhenDisabled:!0,children:g?"Deleting...":"Delete"})]})]})]})}),i.jsx(Rt,{open:R!==null,onOpenChange:y=>!y&&b(null),children:i.jsxs(wt,{children:[i.jsx(Mt,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-1000 transition-opacity duration-150 data-starting-style:opacity-0 data-ending-style:opacity-0"}),i.jsxs(St,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-1001 bg-bg rounded-xl p-6 w-full max-w-125 shadow-[0_4px_24px_rgba(0,0,0,0.15),0_0_0_1px_var(--color-border)] transition-[opacity,transform] duration-150 data-starting-style:opacity-0 data-starting-style:scale-95 data-ending-style:opacity-0 data-ending-style:scale-95",children:[i.jsx(Pt,{className:"text-lg font-semibold mb-4",children:"Overwrite key?"}),i.jsxs(Tt,{className:"text-text-secondary mb-2",children:["Key ",R==null?void 0:R.key," already exists. Do you want to overwrite its value?"]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(Ct,{render:i.jsx(ce,{className:"inline-flex items-center justify-center py-2 px-4 text-sm font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-bg-tertiary text-text border border-border hover:bg-border data-disabled:opacity-60 data-disabled:cursor-not-allowed data-disabled:active:translate-y-0"}),disabled:M,children:"Cancel"}),i.jsx(ce,{className:"inline-flex items-center justify-center py-2 px-4 text-sm font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-primary text-bg-tertiary hover:bg-primary-hover data-disabled:opacity-60 data-disabled:cursor-not-allowed data-disabled:active:translate-y-0",onClick:Q,disabled:M,focusableWhenDisabled:!0,children:M?"Overwriting...":"Overwrite"})]})]})]})})]})]})}export{Cr as component};
